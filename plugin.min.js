tinymce.PluginManager.requireLangPack('prism');tinymce.PluginManager.add('prism',function(editor,url){function showDialog(){var win,data={},dom=editor.dom;win=editor.windowManager.open({title:"Prism Title",file:tinyMCE.baseURL+'/plugins/prism/prism.html',width:600,height:400,inline:1,resizable:true,maximizable:true});} editor.addButton('prism',{icon:true,image:url+'/img/prism.jpg',tooltip:"Prism Title",onclick:showDialog,onPostRender:function(){var ctrl=this;editor.on('NodeChange',function(e){ctrl.active(e.element.nodeName=='IMG');});}});});